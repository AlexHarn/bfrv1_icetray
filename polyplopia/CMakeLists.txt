#
# automatically generated by offline-mk
#
i3_project(polyplopia
    DOCS_DIR resources/docs
    PYTHON_DIR python)

i3_add_library(polyplopia
   private/polyplopia/I3PolyplopiaExp.cxx            
   private/polyplopia/MuonGunBackgroundService.cxx
   private/polyplopia/CoincidentI3ReaderService.cxx  
   private/polyplopia/PolyplopiaUtils.cxx              
   private/polyplopia/MPHitFilter.cxx
   private/polyplopia/PoissonMerger.cxx
   private/polyplopia/PoissonPEMerger.cxx

  USE_TOOLS python boost 

  USE_PROJECTS serialization icetray dataclasses dataio simclasses phys-services interfaces trigger-sim MuonGun sim-services
)

# TODO: these tests should be updated to use modern projects
IF (IS_DIRECTORY ${CMAKE_SOURCE_DIR}/sim-services AND IS_DIRECTORY ${CMAKE_SOURCE_DIR}/trigger-sim)
  i3_test_executable(test 
    private/test/*.cxx
    USE_PROJECTS dataclasses polyplopia sim-services dataio trigger-sim 
    USE_TOOLS boost 
    )
    i3_test_scripts(resources/test/*.py)
ENDIF (IS_DIRECTORY ${CMAKE_SOURCE_DIR}/sim-services AND IS_DIRECTORY ${CMAKE_SOURCE_DIR}/trigger-sim)

add_subdirectory(private/pybindings)
